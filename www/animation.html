<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Energiefluss - erweitert *Configuration*</title>
    <meta name=description content="Provides an animated energy-flow">
    <link rel="manifest" href="manifest.json">
    <link class=favicon rel=icon type=image/ico href="img/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#538ea3">
    <meta name="theme-color" content="#538ea3">
    <!-- Load ioBroker scripts and styles-->

    <link rel="stylesheet" href="style/style.css">

    <!--<script src="http://192.168.2.19:8082/energiefluss-erweitert/js/functions.js"></script>-->
    <script src="js/jquery-3.6.4.min.js"></script>
    <script src="js/jscolor.min.js"></script>
    <style>
        .input_text {}
    </style>
    <script>
        let globalConfig = {
            "animations": {
                "anim_path_5_7": {
                    "type": "animation",
                    "id": "anim_path_5_7",
                    "href": "#path_5_7",
                    "color": "rgb(255, 206, 74)",
                    "sources": [
                        null,
                        null
                    ],
                    "animation": 2,
                    "animation_properties": "positive"
                },
                "anim_path_5_13": {
                    "type": "animation",
                    "id": "anim_path_5_13",
                    "href": "#path_5_13",
                    "color": "rgb(255, 206, 74)",
                    "sources": [
                        null,
                        null
                    ],
                    "animation": 2,
                    "animation_properties": "negative"
                }
            },
            "icons": {}
        };

        let rawValues = { 2: 900, 9: 400, 10: 450 };

        function getAnimationPath(id) {
            let tmpObj = {};
            for (var key of Object.keys(globalConfig.animations)) {
                if (globalConfig.animations[key].animation == id) {
                    tmpObj[key] = { source: id, properties: globalConfig.animations[key].animation_properties }
                }
            }
            return tmpObj;
        }

        let tmpAnim = getAnimationPath(2);
        console.log(tmpAnim);
        let threshold = 40;
        for (var key in tmpAnim) {
            console.log(key);
            // Decide, which to animate
            switch (tmpAnim[key].properties) {
                case 'positive':
                    if (rawValues[tmpAnim[key].source] > 0 && rawValues[tmpAnim[key].source] > threshold) {
                        console.log('yeah-pos');
                    }
                    break;
                case 'negative':
                    if (rawValues[tmpAnim[key].source] < 0 && rawValues[tmpAnim[key].source] < threshold * -1) {
                        console.log('yeah-neg');
                    }
                    break;
            }
            console.log(rawValues[tmpAnim[key].source]);
            console.log(tmpAnim[key].source);
            console.log(tmpAnim[key].properties);

        }

    </script>
</head>

<body class="noscroll">
    <div class="form_div">
        <input type="text" class="input_text elm_config" min="0" value="" name="elm_rx" id="elm_rx" placeholder=""
            data-jscolor="{}">
        <label for="elm_rx" class="form_label">Rounded Corner</label>
    </div>
    <div style="width:350px;">
        <div class="detail_box elm_config_circle elm_config_rect elm_config_svg" style="">
            <span class="config_sec">Hehe</span>
        </div>
    </div>

</body>

</html>